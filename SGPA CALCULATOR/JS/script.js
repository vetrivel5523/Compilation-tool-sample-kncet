//subject datas
var subjectsData = {

    "ECE": {
        //current 3rd year
        "2021-2025": {
            "1": [
                { subjectcode: "20BS101L", subject: "Physics and Chemistry Laboratory", creditPoints: 1 },
                { subjectcode: "20CY101", subject: "Engineering Chemistry", creditPoints: 3 },
                { subjectcode: "20EEC101L", subject: "English for Effective Communication", creditPoints: 1 },
                { subjectcode: "20EN101", subject: "Technical English-I", creditPoints: 3 },
                { subjectcode: "20GE101", subject: "Structured Programming Using C", creditPoints: 3 },
                { subjectcode: "20GE102", subject: "Engineering Graphics", creditPoints: 3 },
                { subjectcode: "20GE103L", subject: "Structured Programming Using C Laboratory", creditPoints: 1 },
                { subjectcode: "20MA101", subject: "Mathematics-I", creditPoints: 4 },
                { subjectcode: "20PH101", subject: "Engineering Physics", creditPoints: 3 }
            ],
            "2": [
                { subjectcode: "20BS201", subject: "Environmental Science", creditPoints: 3 },
                { subjectcode: "20EC201", subject: "Semiconductor Devices", creditPoints: 3 },
                { subjectcode: "20EC202L", subject: "Circuits and Devices Laboratory", creditPoints: 1 },
                { subjectcode: "20EE201", subject: "Electric Circuit Analysis", creditPoints: 3 },
                { subjectcode: "20EEC201L", subject: "Soft Skills", creditPoints: 1 },
                { subjectcode: "20EN201", subject: "Technical English-II", creditPoints: 3 },
                { subjectcode: "20GE201L", subject: "Engineering Practices Laboratory", creditPoints: 1 },
                { subjectcode: "20MA201", subject: "Mathematics-II", creditPoints: 4 },
                { subjectcode: "20PH201", subject: "Applied Physics", creditPoints: 3 }
            ],
        
            "3": [
                { subjectcode: "20EC301", subject: "Electronic Circuits - I", creditPoints: 3 },
                { subjectcode: "20EC302", subject: "Digital Electronics", creditPoints: 3 },
                { subjectcode: "20EC303", subject: "Signals and Systems", creditPoints: 4 },
                { subjectcode: "20EC308L", subject: "Analog and Digital Circuits Laboratory", creditPoints: 1 },
                { subjectcode: "20EEC301L", subject: "Soft Skills Development", creditPoints: 1 },
                { subjectcode: "20IT302", subject: "C++ and Data Structures", creditPoints: 3 },
                { subjectcode: "20IT303L", subject: "C++ and Data Structures Laboratory", creditPoints: 1 },
                { subjectcode: "20MA302", subject: "Transforms and Partial Differential Equations", creditPoints: 4 },
                { subjectcode: "20MC003", subject: "Constitution of India", creditPoints: 0},
               
            ],
            "4": [
                { subjectcode: "20EC401", subject: "Electronic Circuits - II", creditPoints: 3 },
                { subjectcode: "20EC402", subject: "Linear Integrated Circuits", creditPoints: 3 },
                { subjectcode: "20EC403", subject: "Communication Theory", creditPoints: 3 },
                { subjectcode: "20EC404", subject: "Control System Engineering", creditPoints: 3 },
                { subjectcode: "20EC405L", subject: "Electronic Circuits - II Laboratory", creditPoints: 1 },
                { subjectcode: "20EC406L", subject: "Linear Integrated Circuits Laboratory", creditPoints: 1 },
                { subjectcode: "20EE303", subject: "Electromagnetic Fields", creditPoints: 3 },
                { subjectcode: "20EEC401L", subject: "Life Skills and Personality Development", creditPoints: 1 },
                { subjectcode: "20MA403", subject: "Probability and Random Processes", creditPoints: 4 }
            ],
            "5": [
                { subjectcode: "20EC501", subject: "Digital Communication", creditPoints: 4 },
                { subjectcode: "20EC502", subject: "Microprocessors and Microcontrollers", creditPoints: 3 },
                { subjectcode: "20EC503", subject: "Transmission Lines and Wave Guides", creditPoints: 3 },
                { subjectcode: "20EC503PE", subject: "Internet of Things", creditPoints: 3 },
                { subjectcode: "20EC504", subject: "Digital Signal Processing", creditPoints: 4 },
                { subjectcode: "20EC505L", subject: "Microprocessors and Microcontrollers Laboratory", creditPoints: 1 },
                { subjectcode: "20EC506L", subject: "Mini Project-I", creditPoints: 1 },
                { subjectcode: "20EEC501L", subject: "Professional Skills Development", creditPoints: 1 },
                { subjectcode: "20MC002", subject: "Universal Human Values 2: Understanding Harmony", creditPoints: 3 }
            ],
            "6": [
                { subjectcode: "20EC601", subject: "Antenna and Wave Propagation", creditPoints: 3 },
                { subjectcode: "20BM501OE	", subject: "Basics of Biomedical Instrumentation", creditPoints: 3 },
                { subjectcode: "20CS401", subject: "Computer Networks", creditPoints: 3 },
                { subjectcode: "20EC601PE", subject: "Digital Image Processing Techniques", creditPoints: 3 },
                { subjectcode: "20EEC601L	", subject: "Employability Skills", creditPoints: 1 },
                { subjectcode: "20EC605L", subject: "Mini Project-II", creditPoints: 1 },
                { subjectcode: "20EC604L", subject: "Networks Laboratory", creditPoints: 1 },
                { subjectcode: "20MG501", subject: "Principles of Management", creditPoints: 3 },
                { subjectcode: "20EC602", subject: "VLSI Design", creditPoints: 3 },
                { subjectcode: "20EC603L", subject: "VLSI Design Laboratory", creditPoints: 3 }
            ],
            "7": [
                { subjectcode: "20EC701", subject: "Embedded and Real Time Systems", creditPoints: 4 },
                { subjectcode: "20EC702", subject: "Microwave Engineering and Optical Communication", creditPoints: 3 },
                { subjectcode: "20EC703PE", subject: "Transducer Engineering", creditPoints: 3 },
                { subjectcode: "20EC707PE", subject: "Wireless Networks", creditPoints: 4 },
                { subjectcode: "20EE701OE", subject: "Energy Storage Systems", creditPoints: 1 },
            ],
            // "8": [
            //     { subjectcode: "20EC701", subject: "Embedded and Real Time Systems", creditPoints: 4 },
            //     { subjectcode: "20EC702", subject: "Microwave Engineering and Optical Communication", creditPoints: 3 },
            //     { subjectcode: "20EC703PE", subject: "Transducer Engineering", creditPoints: 3 },
            //     { subjectcode: "20EC707PE", subject: "Wireless Networks", creditPoints: 4 },
            //     { subjectcode: "20EE701OE", subject: "Energy Storage Systems", creditPoints: 1 },
            // ]
        },


        // current 1st year
        "2023-2027":{
            "1": [
            { subjectcode: "20BS101L", subject: "Physics and Chemistry Laboratory", creditPoints: 1 },
            { subjectcode: "20CY101", subject: "Engineering Chemistry", creditPoints: 3 },
            { subjectcode: "20EEC101L", subject: "English for Effective Communication", creditPoints: 1 },
            { subjectcode: "20EN101", subject: "Technical English-I", creditPoints: 3 },
            { subjectcode: "20GE101", subject: "Structured Programming Using C", creditPoints: 3 },
            { subjectcode: "20GE102", subject: "Engineering Graphics", creditPoints: 3 },
            { subjectcode: "20GE103L", subject: "Structured Programming Using C Laboratory", creditPoints: 1 },
            { subjectcode: "20MA101", subject: "Mathematics-I", creditPoints: 4 },
            { subjectcode: "20PH101", subject: "Engineering Physics", creditPoints: 3 },
            { subjectcode: "20TA101",subject: "HeritageTamil",creditPoints:1}
            ],
            /*"2": [
            { subjectcode: "20BS201", subject: "Environmental Science", creditPoints: 3 },
            { subjectcode: "20EC201", subject: "Semiconductor Devices", creditPoints: 3 },
            { subjectcode: "20EC202L", subject: "Circuits and Devices Laboratory", creditPoints: 1 },
            { subjectcode: "20EE201", subject: "Electric Circuit Analysis", creditPoints: 3 },
            { subjectcode: "20EEC201L", subject: "Soft Skills", creditPoints: 1 },
            { subjectcode: "20EN201", subject: "Technical English-II", creditPoints: 3 },
            { subjectcode: "20GE201L", subject: "Engineering Practices Laboratory", creditPoints: 1 },
            { subjectcode: "20MA201", subject: "Mathematics-II", creditPoints: 4 },
            { subjectcode: "20PH201", subject: "Applied Physics", creditPoints: 3 },
            { subjectcode: "20TA201", subject: "Tamils and Technology",creditPoints: 1}
            ],*/
        },

        //current 2nd year
        "2022-2026":{
            "1": [
                { subjectcode: "20BS101L", subject: "Physics and Chemistry Laboratory", creditPoints: 1 },
                { subjectcode: "20CY101", subject: "Engineering Chemistry", creditPoints: 3 },
                { subjectcode: "20EEC101L", subject: "English for Effective Communication", creditPoints: 1 },
                { subjectcode: "20EN101", subject: "Technical English-I", creditPoints: 3 },
                { subjectcode: "20GE101", subject: "Structured Programming Using C", creditPoints: 3 },
                { subjectcode: "20GE102", subject: "Engineering Graphics", creditPoints: 3 },
                { subjectcode: "20GE103L", subject: "Structured Programming Using C Laboratory", creditPoints: 1 },
                { subjectcode: "20MA101", subject: "Mathematics-I", creditPoints: 4 },
                { subjectcode: "20PH101", subject: "Engineering Physics", creditPoints: 3 }
            ],
            "2": [
                { subjectcode: "20BS201", subject: "Environmental Science", creditPoints: 3 },
                { subjectcode: "20EC201", subject: "Semiconductor Devices", creditPoints: 3 },
                { subjectcode: "20EC202L", subject: "Circuits and Devices Laboratory", creditPoints: 1 },
                { subjectcode: "20EE201", subject: "Electric Circuit Analysis", creditPoints: 3 },
                { subjectcode: "20EEC201L", subject: "Soft Skills", creditPoints: 1 },
                { subjectcode: "20EN201", subject: "Technical English-II", creditPoints: 3 },
                { subjectcode: "20GE201L", subject: "Engineering Practices Laboratory", creditPoints: 1 },
                { subjectcode: "20MA201", subject: "Mathematics-II", creditPoints: 4 },
                { subjectcode: "20PH201", subject: "Applied Physics", creditPoints: 3 },
                { subjectcode: "20TA101",subject: "HeritageTamil",creditPoints:1}
            ],
            "3": [
                { subjectcode: "20EC301", subject: "Electronic Circuits - I", creditPoints: 3 },
                { subjectcode: "20EC302", subject: "Digital Electronics", creditPoints: 3 },
                { subjectcode: "20EC303", subject: "Signals and Systems", creditPoints: 4 },
                { subjectcode: "20EC308L", subject: "Analog and Digital Circuits Laboratory", creditPoints: 1 },
                { subjectcode: "20EEC301L", subject: "Soft Skills Development", creditPoints: 1 },
                { subjectcode: "20IT302", subject: "C++ and Data Structures", creditPoints: 3 },
                { subjectcode: "20IT303L", subject: "C++ and Data Structures Laboratory", creditPoints: 1 },
                { subjectcode: "20MA302", subject: "Transforms and Partial Differential Equations", creditPoints: 4 },
                { subjectcode: "20MC003", subject: "Constitution of India", creditPoints: 0},
                { subjectcode: "20TA201", subject: "Tamils and Technology",creditPoints: 1}
            ],
            /*"4": [
                { subjectcode: "20EC401", subject: "Electronic Circuits - II", creditPoints: 3 },
                { subjectcode: "20EC402", subject: "Linear Integrated Circuits", creditPoints: 3 },
                { subjectcode: "20EC403", subject: "Communication Theory", creditPoints: 3 },
                { subjectcode: "20EC404", subject: "Control System Engineering", creditPoints: 3 },
                { subjectcode: "20EC405L", subject: "Electronic Circuits - II Laboratory", creditPoints: 1 },
                { subjectcode: "20EC406L", subject: "Linear Integrated Circuits Laboratory", creditPoints: 1 },
                { subjectcode: "20EE303", subject: "Electromagnetic Fields", creditPoints: 3 },
                { subjectcode: "20EEC401L", subject: "Life Skills and Personality Development", creditPoints: 1 },
                { subjectcode: "20MA403", subject: "Probability and Random Processes", creditPoints: 4 }
            ],
            "5": [
                { subjectcode: "20EC501", subject: "Digital Communication", creditPoints: 4 },
                { subjectcode: "20EC502", subject: "Microprocessors and Microcontrollers", creditPoints: 3 },
                { subjectcode: "20EC503", subject: "Transmission Lines and Wave Guides", creditPoints: 3 },
                { subjectcode: "20EC503PE", subject: "Internet of Things", creditPoints: 3 },
                { subjectcode: "20EC504", subject: "Digital Signal Processing", creditPoints: 4 },
                { subjectcode: "20EC505L", subject: "Microprocessors and Microcontrollers Laboratory", creditPoints: 1 },
                { subjectcode: "20EC506L", subject: "Mini Project-I", creditPoints: 1 },
                { subjectcode: "20EEC501L", subject: "Professional Skills Development", creditPoints: 1 },
                { subjectcode: "20MC002", subject: "Universal Human Values 2: Understanding Harmony", creditPoints: 3 }
            ],
            "6": [
                { subjectcode: "20EC601", subject: "Antenna and Wave Propagation", creditPoints: 3 },
                { subjectcode: "20BM501OE	", subject: "Basics of Biomedical Instrumentation", creditPoints: 3 },
                { subjectcode: "20CS401", subject: "Computer Networks", creditPoints: 3 },
                { subjectcode: "20EC601PE", subject: "Digital Image Processing Techniques", creditPoints: 3 },
                { subjectcode: "20EEC601L	", subject: "Employability Skills", creditPoints: 1 },
                { subjectcode: "20EC605L", subject: "Mini Project-II", creditPoints: 1 },
                { subjectcode: "20EC604L", subject: "Networks Laboratory", creditPoints: 1 },
                { subjectcode: "20MG501", subject: "Principles of Management", creditPoints: 3 },
                { subjectcode: "20EC602", subject: "VLSI Design", creditPoints: 3 },
                { subjectcode: "20EC603L", subject: "VLSI Design Laboratory", creditPoints: 3 }
            ],
            "7": [
                { subjectcode: "20EC701", subject: "Embedded and Real Time Systems", creditPoints: 4 },
                { subjectcode: "20EC702", subject: "Microwave Engineering and Optical Communication", creditPoints: 3 },
                { subjectcode: "20EC703PE", subject: "Transducer Engineering", creditPoints: 3 },
                { subjectcode: "20EC707PE", subject: "Wireless Networks", creditPoints: 4 },
                { subjectcode: "20EE701OE", subject: "Energy Storage Systems", creditPoints: 1 },
            ],
            "8": [
                 { subjectcode: "20EC701", subject: "Embedded and Real Time Systems", creditPoints: 4 },
                 { subjectcode: "20EC702", subject: "Microwave Engineering and Optical Communication", creditPoints: 3 },
                 { subjectcode: "20EC703PE", subject: "Transducer Engineering", creditPoints: 3 },
                 { subjectcode: "20EC707PE", subject: "Wireless Networks", creditPoints: 4 },
                 { subjectcode: "20EE701OE", subject: "Energy Storage Systems", creditPoints: 1 },
            ]*/

        }
       }
    } 
function showSubjects() {
    var department = document.getElementById("department").value;
    var year = document.getElementById("batch").value;
    var semester = document.getElementById("semester").value;

    var subjectsTable = document.getElementById("subjects-body");
    subjectsTable.innerHTML = "";

    var subjects = subjectsData[department][year][semester];

    subjects.forEach(function (subject) {
        var row = "<tr><td>" + subject.subjectcode + "</td><td>" + subject.subject + "</td><td class='credit-points' style='display: none;'>" + subject.creditPoints + "</td><td><select class='grade-point'><option value=''></option><option value='O'>O</option><option value='A+'>A+</option><option value='A'>A</option><option value='B+'>B+</option><option value='B'>B</option><option value='C'>C</option><option value='U'>U</option><option value='Passed'>Passed</option></select></td></tr>";
        subjectsTable.innerHTML += row;
    });

    document.getElementById("subjects-section").style.display = "block";
}


function calculateSGPA() {
    var gradePoints = [];
    var totalCreditPoints = 0;

    // Loop through each subject row in the table
    var rows = document.querySelectorAll("#subjects-body tr");
    rows.forEach(function (row) {
        var creditPoints = parseInt(row.cells[2].textContent);
        var grade = row.cells[3].querySelector("select").value;

        // Convert grade to grade point
        var gradePoint;
        switch (grade) {
            case "O":
                gradePoint = 10;
                break;
            case "A+":
                gradePoint = 9;
                break;
            case "A":
                gradePoint = 8;
                break;
            case "B+":
                gradePoint = 7;
                break;
            case "B":
                gradePoint = 6;
                break;
            case "C":
                gradePoint = 5;
                break;
            case "U":
                gradePoint = 0;
            case "Passed":
                gradePoint = 0;
                break;
        }

        // Calculate grade points for each subject
        var gradePointTotal = gradePoint * creditPoints;
        gradePoints.push(gradePointTotal);

        // Accumulate total credit points
        totalCreditPoints += creditPoints;
    });

    // Calculate total grade points
    var totalGradePoints = gradePoints.reduce((a, b) => a + b, 0);

    // Calculate SGPA
    var Sgpa = totalGradePoints / totalCreditPoints;

    // Display SGPA
    var sgpaResult = document.getElementById("sgpa-result");
    sgpaResult.innerHTML = "Your SGPA is: " + Sgpa.toFixed(3);
}

function resetInputs() {
    document.getElementById("department").selectedIndex = 0;
    document.getElementById("batch").value = "";
    document.getElementById("semester").selectedIndex = 0;

    var subjectsTable = document.getElementById("subjects-body");
    subjectsTable.innerHTML = "";

    document.getElementById("subjects-section").style.display = "none";
    document.getElementById("sgpa-result").innerHTML = "";
}
